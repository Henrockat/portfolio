<!DOCTYPE html>
<html lang="nl-BE">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LED Lichtshow - Portfolio</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body class="container py-4">

  <a href="portfolio.html" class="btn btn-outline-secondary mb-4">&larr; Terug naar portfolio</a>

  <h1 class="mb-3">LED Lichtshow</h1>
  <p class="lead">Deze LED-show schakelt tussen vier effecten: links afrollen, rechts afrollen, fade-in chase en regenval-effect. De snelheid wordt geregeld via een potentiometer. Met twee knoppen kies je eenvoudig het gewenste patroon.</p>

  <hr class="my-4"/>

  <h2>Mogelijkheid tot simulatie</h2>
  <p>Wil je dit project online testen of aanpassen? <a href="https://wokwi.com/" target="_blank">Simuleer het op Wokwi!</a></p>

  <div class="row g-4 align-items-start mb-5">
    <div class="col-lg-6">
      <h2>Benodigde hardware</h2>
      <ul>
        <li>1x Raspberry Pi Pico W</li>
        <li>8x LED (meerdere kleuren)</li>
        <li>8x Weerstanden (220Î©)</li>
        <li>1x Potentiometer</li>
        <li>2x Drukknoppen</li>
        <li>Breadboard</li>
        <li>Jumper wires</li>
        <li>Micro USB-kabel</li>
      </ul>

      <h2>Stappenplan / Tutorial</h2>
      <ol>
        <li>Verbind de LEDs met de digitale pinnen van de microcontroller via weerstanden.</li>
        <li>Sluit de drukknoppen aan op digitale ingangen met pull-down of pull-up.</li>
        <li>Verbind de potentiometer met een analoge ingang.</li>
        <li>Upload de onderstaande code via de Arduino IDE of Thonny (bij MicroPython).</li>
        <li>Test elk effect door op de knoppen te drukken en varieer met de snelheid.</li>
      </ol>
    </div>
    <div class="col-lg-6">
      <h2>Schematische weergave</h2>
      <img src="assets/images-labo/LED light show.PNG" alt="Schema LED Lichtshow" class="img-fluid rounded">
    </div>
  </div>

  <h2>MicroPython Code (Raspberry Pi Pico)</h2>
  <pre><code>
from machine import Pin, ADC
import time

led_pins = [2, 3, 4, 5, 6, 7, 8, 9]
leds = [Pin(pin, Pin.OUT) for pin in led_pins]

btn_next = Pin(10, Pin.IN, Pin.PULL_UP)
btn_prev = Pin(11, Pin.IN, Pin.PULL_UP)
pot = ADC(26)  # ADC0 op pin 26

mode = 0
num_modes = 4

def all_off():
    for led in leds:
        led.value(0)

def left_scroll(delay_ms):
    for led in leds:
        led.value(1)
        time.sleep_ms(delay_ms)
        led.value(0)

def right_scroll(delay_ms):
    for led in reversed(leds):
        led.value(1)
        time.sleep_ms(delay_ms)
        led.value(0)

def fade_chase(delay_ms):
    for led in leds:
        led.value(1)
        time.sleep_ms(delay_ms)
        led.value(0)

def rain_drop(delay_ms):
    pattern = [0, 2, 4, 6, 1, 3, 5, 7]
    for i in pattern:
        leds[i].value(1)
        time.sleep_ms(delay_ms)
        leds[i].value(0)

while True:
    # snelheid van 50 tot 400 ms
    delay = int((pot.read_u16() / 65535) * 350 + 50)

    if not btn_next.value():
        mode = (mode + 1) % num_modes
        time.sleep(0.3)
    elif not btn_prev.value():
        mode = (mode - 1 + num_modes) % num_modes
        time.sleep(0.3)

    all_off()

    if mode == 0:
        left_scroll(delay)
    elif mode == 1:
        right_scroll(delay)
    elif mode == 2:
        fade_chase(delay)
    elif mode == 3:
        rain_drop(delay)

  </code></pre>

</body>
</html>
